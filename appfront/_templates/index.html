{% extends "base.html" %}
{% block content %}
{% if featured_movie %}
<section class="hero" style="background-image: url('{{ featured_movie.image_url }}');">
    <div class="hero-content">
        <h1 class="hero-title">{{ featured_movie.name }}</h1>
        <p class="hero-genres">
            {% for genre in featured_movie.genres|slice:":3" %}
                {{ genre }}{% if not forloop.last %} &bull; {% endif %}
            {% endfor %}
        </p>
        <div class="hero-buttons">
            <button class="btn btn-primary"><i class="fas fa-play"></i> Play</button>
            <button class="btn btn-secondary"><i class="fas fa-info-circle"></i> More Info</button>
        </div>
    </div>
</section>
{% endif %}
<div class="container page-container">
    {% if continue_watching %}
    <section class="media-section">
        <h2 class="media-title">Continue Watching</h2>
        <div class="media-grid">
            {% for movie in continue_watching %}
                {% include "partials/movie_card.html" with movie=movie %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <section class="media-section">
        <h2 class="media-title">Trending Now</h2>
        <div class="media-grid">
            {% for movie in trending_movies %}
                {% include "partials/movie_card.html" with movie=movie %}
            {% endfor %}
        </div>
    </section>

    <section class="media-section">
        <h2 class="media-title">Recommended for You</h2>
        <div class="media-grid">
            {% for movie in recommended_movies %}
                {% include "partials/movie_card.html" with movie=movie %}
            {% endfor %}
        </div>
    </section>

    {% if latest_music %}
    <section class="media-section">
        <h2 class="media-title">Latest Music</h2>
        <div class="media-grid">
            {% for album in latest_music %}
            <div class="media-item">
                <img src="{{ album.image_url }}" alt="{{ album.name }}">
                <div class="item-info">
                    <h3 class="item-name">{{ album.name }}</h3>
                    <p class="item-genres">{{ album.artist }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
</div>
{% endblock %}
